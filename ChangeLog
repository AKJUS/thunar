2005-06-11	Benedikt Meurer <benny@xfce.org>

	* thunar-vfs/thunar-vfs-uri.{c,h}: Add functions to ease the handling
	  of URI lists, specifically to automatically parse and generate
	  string representations of URI lists that conform to the
	  text/uri-list mime type.
	* thunar/thunar-location-buttons.c
	  (thunar_location_buttons_drag_data_get): Use new ThunarVfsURI list
	  handling functions instead.
	* thunar/thunar-favourites-model.c
	  (thunar_favourites_model_file_destroy): Handle the case where a
	  directory referenced by a favourite disappears from the backend media.
	* thunar/thunar-favourites-model.c
	  (thunar_favourites_model_file_changed): Remove a given favourite if
	  the system notices that the favourite's file no longer refers to a
	  directory.
	* thunar/thunar-favourites-model.c(thunar_favourites_model_init): Do
	  not re-add favourites initially, that do not refer to a directory.
	* thunar/thunar-favourites-model.{c,h}: Add a new method
	  thunar_favourites_model_add(), which is used by the
	  ThunarFavouritesView to add new favourites to the list and
	  automatically sync the changes with the Gtk+ bookmarks list.
	* thunar/thunar-favourites-view.c: Handle "text/uri-list" drops,
	  adding new favourites as appropriate. Add note, that the initial
	  idea is based on the GtkFileChooser written by Red Hat for Gtk+.
	* TODO: Remove the 'text/uri-list'-handling for ThunarFavouritesView.
	  Add item concerning the Trash in the favourites list.

2005-06-10	Benedikt Meurer <benny@xfce.org>

	* thunar/thunar-favourites-model.{c,h},
	  thunar/thunar-favourites-view.c: Add initial drag&drop-support for
	  the favourites view. This is currently limited to rearranging
	  favourites in the list. Support for adding new favourites by
	  dropping text/uri-list's will be added soon. Also, the
	  ThunarFavouritesModel also saves changes made by the user back to
	  the .gtk-bookmarks file now.
	* TODO: Add note about missing text/uri-list support in
	  ThunarFavouritesView, and missing .gtk-bookmarks monitor support.

2005-06-08	Benedikt Meurer <benny@xfce.org>

	* thunar/thunar-favourites-model.c: Use a signed gint for the number
	  of favourites to be compatible with the Gtk+ API.

2005-06-08	Benedikt Meurer <benny@xfce.org>

	* autogen.sh: Better determine the file dynamically, which is used to
	  query the sandbox revision.

2005-06-08	Benedikt Meurer <benny@xfce.org>

	* autogen.sh, configure.in.in: Add build number to the version during
	  development.

2005-06-08	Benedikt Meurer <benny@xfce.org>

	* docs/design/overview.xmi: All navigational UI elements in a
	  ThunarWindow now implement the ThunarNavigator interface, which
	  defines the "current-directory" property and the "change-directory"
	  signal. See the ThunarNavigator gtk-docs for details about the
	  behaviour.
	* thunar/thunar-navigator.{h,c}: Provide source code for the current
	  ThunarNavigator interface.
	* thunar/thunar-side-pane.{h,c}, thunar/thunar-favourites-pane.c:
	  Changed to use ThunarNavigator instead. ThunarSidePane is currently
	  an empty interface.
	* thunar-vfs/thunar-vfs-uri.{h,c}: Add a thunar_vfs_uri_to_string()
	  method, which transform a ThunarVfsURI into a file:// uri.
	* thunar/thunar-location-bar.{h,c}: Provide source code for the
	  ThunarLocationBar interface, which extends the ThunarNavigator
	  interface. The ThunarLocationBar interface does not add anything new
	  currently, but that will change in future revisions.
	* thunar/thunar-location-buttons.{c,h}: Add location path buttons
	  implementation of the ThunarLocationBar interface. The layouting
	  code was mostly copied from gtkpathbar.c, which was initially
	  written by Jonathan Blandford. The implementation is not complete
	  yet, and the layouting code is still very buggy.
	* TODO: Add a bunch of TODO items for Thunar 1.0.

2005-06-07	Benedikt Meurer <benny@xfce.org>

	* thunar/thunar-list-model.c(thunar_list_model_set_folder): Fix a bug
	  where the signals for the ThunarFolder weren't connected if the
	  folder contained no files initially.
	* thunar/thunar-side-pane.c(thunar_side_pane_class_init): Fix typo in
	  the documentation.
	* thunar/thunar-file.{c,h}: Add new method thunar_file_get_parent() to
	  figure out the parent directory for a given ThunarFile.

2005-06-06	Benedikt Meurer <benny@xfce.org>

	* thunar-vfs/thunar-vfs-uri.c(thunar_vfs_uri_finalize): Use the
	  parent_class variable set by G_DEFINE_TYPE instead of dynamically
	  querying the parent class on-demand.
	* thunar/thunar-application.c, thunar/thunar-desktop-view.c,
	  thunar/thunar-favourites-model.c, thunar/thunar-favourites-pane.c,
	  thunar/thunar-favourites-view.c, thunar/thunar-file.c,
	  thunar/thunar-folder.c, thunar/thunar-icon-view.c,
	  thunar/thunar-preferences.c, thunar/thunar-statusbar.c,
	  thunar/thunar-window.c: G_DEFINE_TYPE and G_DEFINE_TYPE_WITH_CODE
	  already generate a parent_class variable, so we don't need to do
	  that manually as well. It looks like this was added with GLib 2.4.x
	  and I somehow missed that change. Thanks to Jeff Franks for pointing
	  this out.

2005-06-05	Benedikt Meurer <benny@xfce.org>

	* thunar-vfs/thunar-vfs-uri.c: Fix a bug in the thunar_vfs_uri_parent()
	  and thunar_vfs_uri_relative() methods, where the name attribute of
	  the newly created objects wasn't initialized properly.
	* thunar-vfs/thunar-vfs-uri.c(thunar_vfs_uri_equal): Instead of always
	  comparing the full path of both URIs, a simple optimization was
	  introduced, which checks the basenames first, if they are equal,
	  it'll check whether the dirnames have the same length, and as the
	  last fallback, it'll compare the dirnames char by char. This way we
	  can optimize the common case - with GHashTable - that two URIs
	  differ.

2005-06-05	Benedikt Meurer <benny@xfce.org>

	* thunar/thunar-favourites-model.{c,h}: Add new method
	  thunar_favourites_model_file_for_iter() to be able to easily
	  determine the ThunarFile for a given favourite.
	* thunar/thunar-file.c(thunar_file_class_init): Fix a type in the
	  "changed" signal definition.
	* thunar/thunar-file.c(thunar_file_finalize): Fix a bug where the
	  ThunarVfsURI was freed first, and then an attempt was made to remove
	  the ThunarFile from the file_cache using the previously freed
	  ThunarVfsURI as key.
	* thunar/thunar-view.{c,h}: Add the "change-directory" signal, which
	  is emitted by ThunarIconView and ThunarListView whenever the user
	  double clicks a folder (or otherwise requests a directory change
	  from within the view).
	* thunar/thunar-list-model.{c,h}: Add a thunar_list_model_new()
	  default constructor, which does not take a ThunarFolder instance.
	* thunar/thunar-icon-view.c: Implement the "change-directory" signal
	  in ThunarView.
	* thunar/thunar-favourites-view.c, thunar/thunar-favourites-pane.c:
	  Double-clicking a favourite now opens the associated directory (using
	  the "current-directory" property, which is linked to the
	  "current-directory" property of ThunarWindow).
	* thunar/thunar-window.{c,h}: Add a "current-directory" property,
	  which describes the directory currently displayed in this window.
	  Remove the thunar_window_new_with_folder() constructor and replace
	  it by a default constructor. Automatically synchronize the current
	  directory with both the view and the side pane.
	* thunar/main.c(main): ThunarWindow now uses ThunarFile to refer to
	  the active directory and so we do here as well.

2005-06-05	Benedikt Meurer <benny@xfce.org>

	* configure.in.in: Bumped version to 0.0.2.
	* docs/design/overview.xmi: Fix some issues, see the code changes
	  below.
	* thunar-vfs/Makefile.am: Don't install the thunar-vfs library for
	  now. Makes debugging easier.
	* thunar/Makefile.am: Add new classes to the build framework.
	* thunar/thunar-view.{c,h}: Implement first draft for the ThunarView
	  interface, which is to beimplemented by all views.
	* thunar/thunar-icon-view.{c,h}: Implement first draft for the
	  ThunarIconView class, which implements the ThunarView interface to
	  provide an icon view of the current folder.
	* thunar/thunar-statusbar.{c,h}: Add basic implementation of the
	  ThunarStatusbar class. In order to avoid an association between the
	  ThunarView or ThunarListModel classes and the ThunarStatusbar and in
	  order to provide more flexibility about what is to be displayed in
	  the statusbar, we use a write-only property "text" for the
	  ThunarStatusbar, which can be connected to another string property
	  using the ExoBindings module.
	* thunar/thunar-list-model.{c,h}: The number of rows should be a gint
	  rather than a guint, as that's what GtkTreeModel uses. Add a new
	  method thunar_list_model_get_statusbar_text(), that will be used by
	  both ThunarIconView and ThunarListView to determine the proper
	  statusbar text that should be displayed for a given selection. Add a
	  new column THUNAR_LIST_MODEL_COLUMN_TYPE, which provides a string
	  representation of the MIME-Type (using the comment set for the
	  MIME-Type). The sort function is not yet implemented tho.

2005-06-05	Benedikt Meurer <benny@xfce.org>

	* thunar/thunar-favourites-model.c(thunar_favourites_model_get_value):
	  The display_name's of ThunarFile's can be considered static (as the
	  name cannot change during the ThunarFile's life-time), so we don't
	  need to take a copy here.
	* thunar/thunar-list-model.c(thunar_list_model_get_value): Same here,
	  the ThunarFile's display_name is static.
	* thunar/thunar-file.c: Add the simple caching on the ThunarFile
	  level. If a ThunarFile for the same ThunarVfsURI is requested
	  multiple times, the same ThunarFile instance will be used, instead
	  of allocating a new one. Future versions will extend this scheme
	  using a smarter caching mechanism.
	* thunar/thunar-side-pane.{c,h}: Add implementation for the
	  ThunarSidePane interface, which is to be implemented by all widgets
	  that can be placed on the right side. The interface currently
	  includes only the "current-directory" property, which is the most
	  important communication mechanism. We'll need some way to pass in
	  other per-window settings here (e.g. "show-hidden" and such).
	  Hopefully somebody will pick up the preferences task soon.
	* thunar/thunar-favourites-model.{c,h},
	  thunar/thunar-favourites-view.{c,h},
	  thunar/thunar-favourites-pane.{c,h}: More work on the
	  ThunarFavourites module. The ThunarFavouritesPane class implements
	  the ThunarSidePane interface and acts as a bridge to the underlying
	  ThunarFavouritesView.
	* thunar/thunar-window.c: Test the new ThunarFavouritesPane class.
	* thunar/Makefile.am: Add the new classes to the build framework.

2005-06-05	Benedikt Meurer <benny@xfce.org>

	* thunar-vfs/thunar-vfs-uri.{c,h}: Add thunar_vfs_uri_new()
	  constructor, that creates a new ThunarVfsURI object from a resource
	  identifier string.
	* thunar-vfs/thunar-vfs-uri.{c,h}: Add thunar_vfs_uri_is_home(), which
	  determines whether a given ThunarVfsURI referes to the home
	  directory of the current user.
	* thunar/thunar-file.c(thunar_file_load_icon): Pay attention to
	  special icons for the home folder and the file system root.
	* thunar/thunar-favourites-model.{c,h},
	  thunar/thunar-favourites-view.{c,h}: Add experimental
	  ThunarFavouritesModel and ThunarFavouritesView classes, that will be
	  used in the implementation of the ThunarFavouritesPane class. Other
	  than with the mockups, I've skipped the 'Desktop' favourite for now,
	  as it does not make much sense. The usablity team should evaluate
	  this at some time.
	* thunar/thunar-window.c: Add ThunarFavouritesView on the left side
	  for testing.
	* thunar/Makefile.am: Add ThunarFavouritesModel and
	  ThunarFavouritesView to the build system.

2005-06-04	Benedikt Meurer <benny@xfce.org>

	* configure.in.in: Fix copyright texts.
	* docs/design/overview.xmi: Add is_local() and is_root() for
	  ThunarVfsURI, which were missing.
	* thunar-vfs/thunar-vfs-uri.{c,h}: Implemented the missing
	  thunar_vfs_uri_is_root() and thunar_vfs_uri_parent() methods.

2005-06-04	Benedikt Meurer <benny@xfce.org>

	* COPYING.LIB: Add license text for the thunar-vfs library (which is
	  licensed under the LGPL).
	* HACKING: Add information for people that plan to hack on Thunar.
	* AUTHORS: Add Jeff Franks.
	* THANKS: Import the THANKS template.
	* README: Add some basic information about Thunar. Needs more details.
	* docs/design/overview.xmi: Import the current overview diagram for
	  Thunar.
	* Makefile.am, configure.in.in, docs/Makefile.am,
	  docs/design/Makefile.am: Include the docs/ tree with the build
	  framework.
	* configure.in.in, thunar/Makefile.am, thunar-vfs/Makefile.am: Link
	  against GThread (not yet required from what is coded so far).
	* configure.in.in: Check for several required header files.
	* thunar-vfs/Makefile.am, thunar-vfs/thunar-vfs-info.{c,h},
	  thunar-vfs/thunar-vfs-monitor.{c,h},
	  thunar-vfs/thunar-vfs-uri.{c,h}, thunar-vfs/thunar-vfs-util.{c,h},
	  thunar-vfs/thunar-vfs.h: Add some experimental source code to
	  implement parts of the VFS module.
	* thunar/fallback-icon.h, thunar/fallback-icon.png: Import the
	  fallback icon.
	* thunar/thunar-application.{c,h}: Import Jeff's ThunarApplication
	  boilerplate (adjusting style as required).
	* thunar/thunar-desktop-view.{c,h}: Boilerplate for the
	  ThunarDesktopView class with the very basic requirements.
	* thunar/thunar-file.{c,h}, thunar/thunar-folder.{c,h}: Experimental
	  implementation of ThunarFile and ThunarFolder based on the
	  experimental source for the VFS module.
	* thunar/thunar-list-model.{c,h}: Sample implementation of the
	  ThunarListModel class, based on an earlier implementation found in
	  Filer.
	* thunar/thunar-preferences.{c,h}: Template for the ThunarPreferences
	  class.
	* thunar/thunar-window.{c,h}: Quick-and-dirty ThunarWindow
	  implementation to be able to roughly test the ThunarListModel class.
	* thunar/main.c: Add code to start a single ThunarWindow.
	* autogen.sh: Copyright fixes. Substitute date to make it easier to
	  identify snapshots during the early development stages.

2005-05-30	Benedikt Meurer <benny@xfce.org>

	* Initial import.

# vi:set ts=8 sw=8 noet ai nocindent:
